<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "Employee And Work Order Management" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= yield :head %>
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">
    <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>
  <body class="bg-slate-50">
    <nav class="flex items-center w-full h-[50px]  p-2 shadow-sm justify-between bg-slate-700 text-slate-300 ">
      <span class="flex items-center">
        E&W Management
      </span>
      <div class="flex items-center justify-center">
        <div class="px-4 transition-colors rounded-full bg-slate-600 hover:bg-slate-400 hover:text-slate-700">Nawigacja</div>
      </div>
      <div class="items-center justify-end hidden md:flex relative">
        <div class="flex flex-col items-start gap-4 rounded-sm group">
          <% if user_signed_in? %>
            <div class="px-2 group-hover:bg-slate-600"><%= current_user.email %></div>
            <div class="absolute left-0 hidden w-full pt-[35px] rounded-lg group-hover:flex ">
              <div class="  flex-col items-startmt-[25px] w-full p-2 rounded-lg group-hover:flex bg-slate-600 *:w-full *:p-2 hover:*:bg-slate-500">
                <%= link_to "Profile", user_path(id: current_user.id)%>
                <%= link_to "Log out", destroy_user_session_path, data: { "turbo-method": :delete }%>
              </div>
            </div>
          <% else %>
            <%= link_to "Log in", new_user_session_path %>
          <% end%>
        </div>
      </span>
    </nav>
    <main class="flex w-full h-full px-5 mx-auto ">
      <%= yield %>
      <section class="absolute bottom-14 right-5">
        <% if notice %>
          <p class="notice p-2 bg-yellow-100 border-2 border-yellow-200 rounded-md text-yellow-900"><%= notice %></p>
        <% end %>
        <% if alert %>
          <p class="alert p-2 bg-red-100 border-2 border-red-200 rounded-md text-red-900"><%= alert %></p>
        <% end %>
      </section>
    </main>
    <footer class="absolute bottom-0 grid items-center w-full h-[50px] grid-cols-2 p-2 border-t-2 shadow-sm md:grid-cols-3 border-slate-300 bg-slate-100">
      <span class="items-center hidden md:flex">
      </span>
      <span class="flex items-center justify-center">
        © Szymon Nadbrzeżny <%= DateTime.now().year()%>
      </span>
      <span class="flex items-center justify-end">
        <%= link_to image_tag("github-mark.png",class:"aspect-square", size: "32x32", alt: "Github link"),"https://github.com/SzymonNadbrzezny/employee-and-work-order-management-1703880190/tree/main"%>
      </span>
    </footer>
  </body>
</html>
